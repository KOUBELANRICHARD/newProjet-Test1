{% load static %}
<!DOCTYPE html>
<html>
<head>
    <title>IoT Clients and Devices</title>
    <link rel="stylesheet" type="text/css" href="{% static 'styles.css' %}">
</head>
<body>
    <header>
        <h1>ZUGUS, The Best of IOT Plateforme.</h1>
    </header>

    <nav>
        <a href="#home">Accueil</a>
        <a href="#about">A propos</a>
        <a href="#device">Objets</a>
        <a href="#services">Services</a>
        <a href="#team">Contact</a>
    </nav>

    <h2>IoT Clients and Devices</h2>
    {% for client in clients %}
    <div class="client-card">
        <h3>{{ client.full_name }}</h3>
        <p>Email: {{ client.email }}</p>
        <p>Phone: {{ client.phone }}</p>
        <p>Address: {{ client.address }}</p>
        <p>Date de enregistrement: {{ client.registration_date }}</p>
        {% if client.active == 1 %}
            <p>Etat: Activé</p>
            {% else  %}
            <p>Etat: Désactivé</p>
            {% endif %}
    
        <h4>Devices:</h4>
        <ul>
            {% for device in client.devices.all %}
            <li>{{ device.name }} - {{ device.type }}</li>
            <li>
                <img src="{{ device.image.url }}" alt="{{ device.name }}" width="50">
                {{ device.name }} - {{ device.type }}
            </li>
            <li>
                {% if device.isActive == 1 %}
                    Status: Activé
                {% else  %}
                    Status: Désactivé
                {% endif %}
                
            </li>
            <li>
                Date création: {{ device.last_updated }}
            </li>

            <br/>
            {% endfor %}
        </ul>
    </div>
    {% endfor %}
</body>
</html>
